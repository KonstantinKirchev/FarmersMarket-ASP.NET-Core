@{
    ViewData["Title"] = "New notification";
}

<div id="messageSend">The message was send successfully!</div>

<div class="container">
    <h2>@ViewData["Title"]</h2>
    <hr />
    <div class="col-md-4">
        <form asp-controller="Notifications" asp-action="Notification" data-ajax="true" data-ajax-method="POST" data-ajax-oncomplete="clearMessage">
            <label for="type">Type:</label>
            <select id="type" name="type" class="form-select">
                <option value="info">Info</option>
                <option value="danger">Danger</option>
                <option value="success">Success</option>
                <option value="warning">Warning</option>
            </select>
            <label for="notification">Notification:</label>
            <textarea rows="3"  id="notification" name="notification" class="form-control"></textarea> 
            <br/>
            <input id="submit" type="submit" value="Send" class="btn btn-primary"/>
        </form>
    </div>
</div>

@section Scripts
{
    <script type="text/javascript">
        $(document)
        .ready(function () {
            var message = document.getElementById('messageSend');
            message.style.display = 'none';
            $(document).on("click","#submit", () => {
                    message.classList.add("alert");
                    message.classList.add("alert-success");
                    message.style.display = 'block';
                    setTimeout(function() {
                        message.classList.remove("alert");
                        message.classList.remove("alert-success");
                        message.style.display = 'none';
                    }, 1000);
                });
        });
        function clearMessage() {
            $("#notification").val("");
        }
    </script>
}

